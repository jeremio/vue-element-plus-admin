import{F as e}from"./Form.448d4bf3.js";import{d as t,a6 as a,m as o,J as s,bQ as i,a as n,b1 as l,s as r,o as c,c as d,g as m,w as u,$ as f,v as p,X as h,Z as y,x as v,t as x,k as b}from"./index.04aee318.js";import{E as g}from"./el-button.399a9fbc.js";import{u as k}from"./useForm.dde93c5f.js";const w={key:0},F=t({props:{schema:{type:Array,default:()=>[]},isCol:a.bool.def(!1),labelWidth:a.oneOfType([String,Number]).def("auto"),layout:a.string.validate((e=>["inline","bottom"].includes(e))).def("inline"),buttomPosition:a.string.validate((e=>["left","center","right"].includes(e))).def("center"),showSearch:a.bool.def(!0),showReset:a.bool.def(!0),expand:a.bool.def(!1),expandField:a.string.def("")},emits:["search","reset"],setup(t,{emit:a}){const F=t,{t:C}=b(),_=o(!0),R=s((()=>{let e=i(F.schema);if(F.expand&&F.expandField&&!n(_)){const t=l(e,(e=>e.field===F.expandField));if(t>-1){const a=e.length;e.splice(t+1,a)}}return"inline"===F.layout&&(e=e.concat([{field:"action",formItemProps:{labelWidth:"0px"}}])),e})),{register:j,elFormRef:S,methods:q}=k(),P=async()=>{var e;await(null==(e=n(S))?void 0:e.validate((async e=>{if(e){const{getFormData:e}=q,t=await e();a("search",t)}})))},W=async()=>{var e;null==(e=n(S))||e.resetFields();const{getFormData:t}=q,o=await t();a("reset",o)},A=s((()=>({textAlign:F.buttomPosition}))),D=()=>{var e;null==(e=n(S))||e.resetFields(),_.value=!n(_)};return(a,o)=>{const s=r("Icon");return c(),d(y,null,[m(n(e),{"is-custom":!1,"label-width":t.labelWidth,"hide-required-asterisk":"",inline:"","is-col":t.isCol,schema:n(R),onRegister:n(j)},{action:u((()=>["inline"===t.layout?(c(),d("div",w,[t.showSearch?(c(),p(n(g),{key:0,type:"primary",onClick:P},{default:u((()=>[m(s,{icon:"ep:search",class:"mr-5px"}),v(" "+x(n(C)("common.query")),1)])),_:1})):h("v-if",!0),t.showReset?(c(),p(n(g),{key:1,onClick:W},{default:u((()=>[m(s,{icon:"ep:refresh-right",class:"mr-5px"}),v(" "+x(n(C)("common.reset")),1)])),_:1})):h("v-if",!0),t.expand?(c(),p(n(g),{key:2,text:"",onClick:D},{default:u((()=>[v(x(n(C)(_.value?"common.shrink":"common.expand"))+" ",1),m(s,{icon:_.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])),_:1})):h("v-if",!0)])):h("v-if",!0)])),_:1},8,["label-width","is-col","schema","onRegister"]),"bottom"===t.layout?(c(),d("div",{key:0,style:f(n(A))},[t.showSearch?(c(),p(n(g),{key:0,type:"primary",onClick:P},{default:u((()=>[m(s,{icon:"ep:search",class:"mr-5px"}),v(" "+x(n(C)("common.query")),1)])),_:1})):h("v-if",!0),t.showReset?(c(),p(n(g),{key:1,onClick:W},{default:u((()=>[m(s,{icon:"ep:refresh-right",class:"mr-5px"}),v(" "+x(n(C)("common.reset")),1)])),_:1})):h("v-if",!0),t.expand?(c(),p(n(g),{key:2,text:"",onClick:D},{default:u((()=>[v(x(n(C)(_.value?"common.shrink":"common.expand"))+" ",1),m(s,{icon:_.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])),_:1})):h("v-if",!0)],4)):h("v-if",!0)],64)}}});export{F as _};
