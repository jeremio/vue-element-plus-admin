var e=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a;import{H as r,O as u,I as c,aE as p,bt as d,m as f,J as i,aD as y,b5 as v,bW as b,q as m,C as O,B as C,U as B,bX as g,aj as w}from"./index.04aee318.js";import{U as h}from"./event2.0717584c.js";import{b as j,a as D,c as x}from"./el-overlay.d10e5907.js";const I=r({center:{type:Boolean,default:!1},closeIcon:{type:u,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),S={close:()=>!0},P=r((k=((e,l)=>{for(var o in l||(l={}))t.call(l,o)&&s(e,o,l[o]);if(a)for(var o of a(l))n.call(l,o)&&s(e,o,l[o]);return e})({},I),E={appendToBody:{type:Boolean,default:!1},beforeClose:{type:c(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}},l(k,o(E))));var k,E;const z={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[h]:e=>p(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},F=(e,l)=>{const o=B().emit,{nextZIndex:a}=d();let t="";const n=f(!1),s=f(!1),r=f(!1),u=f(e.zIndex||a());let c,p;const I=i((()=>y(e.width)?`${e.width}px`:e.width)),S=v("namespace",b),P=i((()=>{const l={},o=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(l[`${o}-margin-top`]=e.top),e.width&&(l[`${o}-width`]=I.value)),l}));function k(){null==p||p(),null==c||c(),e.openDelay&&e.openDelay>0?({stop:c}=g((()=>F()),e.openDelay)):F()}function E(){null==c||c(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=g((()=>N()),e.closeDelay)):N()}function z(){e.beforeClose?e.beforeClose((function(e){e||(s.value=!0,n.value=!1)})):E()}function F(){w&&(n.value=!0)}function N(){n.value=!1}return e.lockScroll&&j(n),e.closeOnPressEscape&&D({handleClose:z},n),x(n),m((()=>e.modelValue),(t=>{t?(s.value=!1,k(),r.value=!0,o("open"),u.value=e.zIndex?u.value++:a(),O((()=>{l.value&&(l.value.scrollTop=0)}))):n.value&&E()})),m((()=>e.fullscreen),(e=>{l.value&&(e?(t=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=t)})),C((()=>{e.modelValue&&(n.value=!0,r.value=!0,k())})),{afterEnter:function(){o("opened")},afterLeave:function(){o("closed"),o(h,!1),e.destroyOnClose&&(r.value=!1)},beforeLeave:function(){o("close")},handleClose:z,onModalClick:function(){e.closeOnClickModal&&z()},close:E,doClose:N,closed:s,style:P,rendered:r,visible:n,zIndex:u}};export{S as a,P as b,z as c,I as d,F as u};
